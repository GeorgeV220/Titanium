From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Peridot <peridot491@protonmail.com>
Date: Fri, 23 Sep 2022 21:56:36 +0200
Subject: [PATCH] Option to disable chunk ticking


diff --git a/src/main/java/net/minecraft/server/WorldServer.java b/src/main/java/net/minecraft/server/WorldServer.java
index 93eb7e7287ea602dd8d5f34b946777972f34fe5c..8424b5f173a1db0e0e5714f4d87378c2d995cd1b 100644
--- a/src/main/java/net/minecraft/server/WorldServer.java
+++ b/src/main/java/net/minecraft/server/WorldServer.java
@@ -404,6 +404,9 @@ public class WorldServer extends World implements IAsyncTaskHandler {
     }
 
     protected void h() {
+        if (this.server.server.titaniumServer.getServerConfig().gameMechanics.disableChunkTicking) {
+            return;
+        }
         super.h();
         if (this.worldData.getType() == WorldType.DEBUG_ALL_BLOCK_STATES) {
             // Spigot start
diff --git a/src/main/java/net/titanium/config/TitaniumConfig.java b/src/main/java/net/titanium/config/TitaniumConfig.java
index 49021bd8519b66ff3d3bbf3c9f53cd514a91acd9..633efdb9f4d0f0ad384d90c09dc91a0d7f4f0f8d 100644
--- a/src/main/java/net/titanium/config/TitaniumConfig.java
+++ b/src/main/java/net/titanium/config/TitaniumConfig.java
@@ -107,6 +107,11 @@ public class TitaniumConfig extends TitaniumConfigSection {
         @Comment("Of course it's not vanilla mechanic.")
         public boolean disableStatistics = false;
 
+        @Comment("Whether to disable chunk ticking.")
+        @Comment("It could be huge performance improvement, but also could cause a lot of issues.")
+        @Comment("Be careful with this option and use it only if you know what are you doing.")
+        public boolean disableChunkTicking = false;
+
     }
 
     @Comment("Whether saving of fireworks and arrows should be disabled.")
